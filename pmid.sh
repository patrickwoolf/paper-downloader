#!/usr/bin/env bash

Link="http://www.ncbi.nlm.nih.gov/pubmed/"
PMCLink="http://www.ncbi.nlm.nih.gov/pmc/articles/"
ID=(        
19443628
20237457
27648407
27068711
22293651
28124305
25571879
25823466
28826901
23927679
12378387
26558187
21414968
26865177
21719173
22143191
17848394
24447254
22130958
21281749
23870026
26331407
25017195
25465028
23052229
18852190
27004031
26890570
29236239
20420796
16940716
19696217
22723973
25196674
19221176
21940840
11849871
24318369
29664315
22013298
18678302
17928470
22111814
22527202
16387073
18802328
23605174
17699396
24847332
27519971
20576822
27913900
25479288
24119158
19491380
16188511
26833300
21139318
20630128
24709688
17259697
9719161
15496173
15882283
22980963
20955275
22483469
26629071
18800030
19574342
15780108
27516144
16554319
17524408
21852662
19681840
21178378
22169112
15280525
19021697
26268579
22962941
11721165
19101228
)


for f in ${ID[@]};
do
  PMCID=$(wget  --user-agent="Mozilla/5.0 (Windows NT 5.2; rv:2.0.1) Gecko/20100101 Firefox/4.0.1" \
   -l1 --no-parent ${Link}${f} -O - 2>/dev/null | grep -Po 'PMC\d+' | head -n 1)
    if [ $PMCID ]; then
       wget  --user-agent="Mozilla/5.0 (Windows NT 5.2; rv:2.0.1) Gecko/20100101 Firefox/4.0.1" \
            -l1 --no-parent -A.pdf ${PMCLink}${PMCID}/pdf/ -O ${f}.pdf 2>/dev/null
    else
       echo "No PMC ID for $f"
    fi

done
